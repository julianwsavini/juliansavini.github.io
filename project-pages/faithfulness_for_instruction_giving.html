<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <link rel="icon" href="../assets/images/1311.png" />
    <title>Faithfulness for Instruction Giving</title>
    <meta name="description" content="A detailed project page about faithfulness evaluation for instruction-giving RAG models.">
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link rel="stylesheet" href="../css/layout.css">
    <link rel="stylesheet" href="../css/typography.css">
    <link rel="stylesheet" href="../css/utilities.css">

    <script defer src="../js/script.js"></script>
  </head>
  <body>
    <!-- NAVBAR -->
    <div class="navbar">
      <a class="nav-title-link" href="../index.html">
        <span class="nav-title">Portfolio</span>
        <a class="button" href="mailto:whitevans.eth@gmail.com">
          <span class="button-text">Contact Me</span>
        </a>
      </a>
    </div>

    <!-- MAIN PAGE CONTENT -->
    <div id="main-content">
      <!-- PROJECT HEADER -->
      <div id="project-header">
        <div class="main-title">Faithfulness for Instruction Giving</div>
        <div class="body-text">A deep dive into evaluating and improving faithfulness for a Retrieval-Augmented Generation (RAG) model built for healthtech applications.</div>
        <image class="project-header-image" src="../assets/images/desktop.jpeg">
      </div>

      <!-- PROJECT DETAILS -->
      <div id="project-details">
        <div class="subheader-text">Project Overview</div>
        <div class="project-details-content">
          <div class="body-text">During my data scientist co-op for the AI Solutions Hub at the Roux, I was tasked with working on a RAG project for Evity, a healthtech company focused on leveraging world-class health research with AI to enable healthier lives. The AI Solutions Hub developed a RAG model that utilized medical papers to generate exercise regimens for customers based on their health conditions. I led the evaluation effort, specifically measuring faithfulnessâ€”how well the outputs align with the medical papers.</div>
        </div>

        <div class="subheader-text">Initial Research and Implementation</div>
        <div class="project-details-content">
          <div class="body-text">Initially, I researched multiple pre-existing evaluation frameworks by reading over 15 papers on RAG evaluation and reviewing documentation. I chose DeepEval for several reasons:
            <ul>
              <li>DeepEval compares individual RAG output statements (claims) with relevant medical paper statements (truths), providing transparency for each claim-truth pair.</li>
              <li>It labels claim-truth pairs as "supported," "not supported," or "no evidence," avoiding binary choices.</li>
              <li>It is compatible with AWS Bedrock prompting methods.</li>
            </ul>
            However, after reviewing the outputs, we identified limitations in DeepEval's framework:
            <ul>
              <li>It fact-checks against the LLM's pre-trained knowledge, which contradicts faithfulness as adherence to retrieval context.</li>
              <li>It relies on LLMs to decide "support," less effective for instruction-giving models where entailment matters more.</li>
              <li>It struggles to compare imperative RAG outputs to declarative medical paper sentences.</li>
            </ul>
          </div>
        </div>

        <div class="subheader-text">Custom Evaluation Framework</div>
        <div class="project-details-content">
          <div class="body-text">To address these issues, I built a custom evaluation framework tailored to instruction-giving RAG models. Key innovations include:
            <ul>
              <li>Breaking down complex instructions into atomic, contextualized units.</li>
              <li>Using entailment checks instead of "support" assessments.</li>
              <li>Evaluating claims strictly within retrieval context, regardless of factual consistency.</li>
              <li>Creating a matrix to examine each claim-truth pair.</li>
              <li>Enhancing efficiency by comparing each claim only to the top 5 truths with the highest cosine similarity.</li>
            </ul>
          </div>
        </div>

        <div class="subheader-text">Current Work</div>
        <div class="project-details-content">
          <div class="body-text">My supervisor and I are co-authoring an 11-page paper sharing our techniques for improving faithfulness evaluation for instruction-giving LLMs. This involves running tests with multiple LLMs (Claude, ChatGPT, Llama, and others), creating a synthetic dataset, and effectively communicating complex technical concepts.</div>
        </div>
      </div>

      <!-- IMAGE GALLERY -->
      <div id="project-gallery">
        <div class="subheader-text">Image Gallery</div>
        <div class="project-gallery-content">
          <div class="gallery-image-container half-width">
            <img src="../assets/images/cosine_similarity.png" class="gallery-image">
            <span class="image-caption">Using cosine similarity as a means to filter the evaluation process.</span>
          </div>
          <div class="gallery-image-container half-width">
            <img src="../assets/images/threadpool.png" class="gallery-image">
            <span class="image-caption">Optimizing processing speed by ~30% by using threadpool.</span>
          </div>
        </div>
      </div>
    </div>

    <!-- FOOTER -->
    <div id="footer">
      <a class="icon-link" target="_blank" href="https://twitter.com/whitevans_eth">
        <image src="../assets/icons/instagram.svg" class="footer-icon" />
      </a>
      <a class="icon-link" target="_blank" href="https://twitter.com/whitevans_eth">
        <image src="../assets/icons/twitter.svg" class="footer-icon" />
      </a>
      <a class="icon-link" href="mailto:whitevans.eth@gmail.com">
        <image src="../assets/icons/mail.svg" class="footer-icon" />
      </a>
    </div>
  </body>
</html>
